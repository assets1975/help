#Контроль качества

#Один из подходов к разработке высококачественного программного обеспечения заключается в написании тестов для каждой #функции при её разработке и регулярном запуске этих тестов во время всего процесса разработки.

#Модуль doctest имеет средства для просмотра модуля и проверки результатов тестов, заложенных в строках документации. #Написание теста для функции заключается в копировании и вставке типичного вызова функции и ее результатов в строку #документации. Это улучшает документацию, предоставляя пользователю реальный пример, а модуль doctest проверяет, что код #соответствует документации.



def average(values):
    """Вычисляет среднее арифметическое списка чисел.
 
    >>> print(average([20, 30, 70]))
    40.0
    """
    return sum(values) / len(values)
 
import doctest
doctest.testmod()   # автоматически проверяет тесты в документации

#Модуль unittest не менее прост в использовании чем doctest, но позволяет создавать более полный набор тестов, #располагающийся в отдельном файле:

import unittest
 
class TestStatisticalFunctions(unittest.TestCase):
 
    def test_average(self):
        self.assertEqual(average([20, 30, 70]), 40.0)
        self.assertEqual(round(average([1, 5, 7]), 1), 4.3)
        self.assertRaises(ZeroDivisionError, average, [])
        self.assertRaises(TypeError, average, 20, 30, 70)
 
unittest.main() # Вызов из командной строки выполняет проверку всех тестов этого модуля